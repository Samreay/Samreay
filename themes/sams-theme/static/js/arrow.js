/* esm.sh - esbuild bundle(@arrow-js/core@1.0.0-alpha.8) es2022 production */
var v=new Map,b=new Set,k=new Set,T=new WeakMap;function z(t){return(o,n)=>{b.size||setTimeout(function e(){let u=Array.from(b);b.clear();let d=Array.from(k);k.clear(),u.forEach(r=>r(o,n)),d.forEach(r=>r()),b.size&&setTimeout(e)}),b.add(t)}}function Q(t){if(!b.size)return t&&t(),Promise.resolve();let o,n=new Promise(e=>{o=e});return k.add(()=>{t&&t(),o()}),n}function W(t,o){v.forEach(n=>{let e=n.get(t);e||(e=new Set,n.set(t,e)),e.add(o)})}function O(t){return typeof t=="function"&&!!t.isT}function M(t){return typeof t=="object"&&t!==null&&typeof t.$on=="function"}function R(t,o){return Object.prototype.hasOwnProperty.call(t,o)}function D(t){return R(t,"$on")}function H(t){let o=document.createElement("template");o.innerHTML=t;let n=o.content.cloneNode(!0);return n.normalize(),n.childNodes}function $(t=Symbol()){let o="",n=[],e=[],u=[],d=new Map,r=[],c=()=>{e.length||g();let l=m(L(H(o),n)());return a(),l};c.ch=()=>u,c.l=0,c.add=l=>{if(!l&&l!==0)return;let f,s=l,i=[];var h;O(l)?[s,i,f]=l._h():s=(h=String(l))==="<!---->"?h:h.replace(/[<>]/g,x=>x===">"?"&gt;":"&lt;"),o+=s,o+="<!--\u274D\u21DA-->";let p=f&&d.get(f),E=p||{html:s,exp:i,dom:[],tpl:l,key:f};e.push(E),f&&(p?p.exp.forEach((x,_)=>x._up(i[_].e)):d.set(f,E)),i.forEach(x=>n.push(x)),c.l++},c._up=()=>{let l=$(t),f=0,s=u[0].dom[0];e.length||g(document.createComment(""));let i=()=>{if(!l.l)return;let p=l(),E=p.lastChild;s[f?"after":"before"](p),y(l,e,f),s=E};e.forEach((p,E)=>{let x=u[E];p.key&&p.dom.length?(i(),x&&x.dom===p.dom||s[E?"after":"before"](...p.dom),s=p.dom[p.dom.length-1]):x&&p.html===x.html&&!x.key?(i(),x.exp.forEach((_,w)=>_._up(p.exp[w].e)),p.exp=x.exp,p.dom=x.dom,s=p.dom[p.dom.length-1]):(x&&p.html!==x.html&&!x.key&&r.push(...x.dom),l.l||(f=E),l.add(p.tpl))}),i();let h=s.nextSibling;for(;h&&R(h,t);)r.push(h),h=h.nextSibling;V(r),a()};let a=()=>{r.length=0,o="",c.l=0,n=[],u=[...e],e=[]},g=l=>{o="<!---->",e.push({html:o,exp:[],dom:l?[l]:[],tpl:o,key:0})},m=l=>{let f=0,s=[];return l.childNodes.forEach(i=>{if(i.nodeType===8&&i.data==="\u274D\u21DA")return f++,void s.push(i);Object.defineProperty(i,t,{value:t}),e[f].dom.push(i)}),s.forEach(i=>i.remove()),l},y=(l,f,s)=>{l.ch().forEach((i,h)=>{f[s+h].dom=i.dom})};return c}function F(t,...o){let n=[],e="",u=(c,a)=>{if(typeof c=="function"){let g=()=>{};return n.push(Object.assign((...m)=>c(...m),{e:c,$on:m=>{g=m},_up:m=>{c=m,g()}})),a+"<!--\u27B3\u274D-->"}return Array.isArray(c)?c.reduce((g,m)=>u(m,g),a):a+c},d=()=>(e||(e=o.length||t.length!==1||t[0]!==""?t.reduce(function(c,a,g){return c+=a,o[g]!==void 0?u(o[g],c):c},""):"<!---->"),e),r=c=>{let a=L(H(d()),n);return c?a(c):a()};return r.isT=!0,r._k=0,r._h=()=>[d(),n,r._k],r.key=c=>(r._k=c,r),r}function L(t,o){let n=document.createDocumentFragment(),e;for(;e=t.item(0);)e.nodeType!==8||e.nodeValue!=="\u27B3\u274D"?(e instanceof Element&&I(e,o),e.hasChildNodes()&&L(e.childNodes,o)(e),n.append(e),e instanceof HTMLOptionElement&&(e.selected=e.defaultSelected)):n.append(B(e,o));return u=>u?(u.appendChild(n),u):n}function I(t,o){if(!t.hasAttributes())return;let n=t instanceof HTMLInputElement||t instanceof HTMLSelectElement||t instanceof HTMLTextAreaElement,e=t.attributes.length,u=[],d=[];for(let r=0;r<e;r++)d.push(t.attributes[r]);d.forEach(r=>{var c;let a=r.name;if(r.value.indexOf("<!--\u27B3\u274D-->")!==-1){let g=o.shift();if(a.charAt(0)==="@"){let m=a.substring(1);t.addEventListener(m,g),T.has(t)||T.set(t,new Map),(c=T.get(t))===null||c===void 0||c.set(m,g),u.push(a)}else{let m=n&&a==="value"||a==="checked"&&t instanceof HTMLInputElement||a.startsWith(".")&&(a=a.substring(1));j(g,y=>{m&&(t[a]=y,y=!1),y!==!1?t.setAttribute(a,y):t.removeAttribute(a)})}}}),u.forEach(r=>t.removeAttribute(r))}function V(t){t.forEach(q)}function q(t){var o;t.remove(),(o=T.get(t))===null||o===void 0||o.forEach((n,e)=>t.removeEventListener(e,n))}function B(t,o){let n=document.createDocumentFragment();t.remove();let e=$(),u=o.shift();if(u&&O(u.e))e.add(u.e);else{e.l&&n.appendChild(e());let d=document.createTextNode("");d=j(u,r=>P(d,r)),n.appendChild(d instanceof Node?d:d())}return e.l&&n.appendChild(e()),n}function P(t,o){if(!Array.isArray(o))return P(t,[o]);let n=typeof t=="function",e=n?t:$();return o.forEach(u=>e.add(u)),n&&e._up(),e}function j(t,o){let n=Symbol();v.has(n)||v.set(n,new Map);let e=new Map,u=z(d);function d(){v.set(n,new Map);let r=t(),c=v.get(n);return v.delete(n),e.forEach((a,g)=>{let m=c.get(g);m&&m.forEach(y=>a.delete(y)),a.forEach(y=>g.$off(y,u))}),c.forEach((a,g)=>{a.forEach(m=>g.$on(m,u))}),e=c,o?o(r):r}return D(t)&&t.$on(d),d()}function G(t,o){let n=o._st();return n.o&&n.o.forEach((e,u)=>{e.forEach(d=>{t.$on(u,d)})}),n.p&&(t._p=n.p),t}function J(t,o,n,e){let u=(...d)=>{let r=Array.prototype[t].call(o,...d);if(o.forEach((c,a)=>n._em(String(a),c)),n._p){let[c,a]=n._p;a._em(c,n)}return r};switch(t){case"shift":case"pop":case"sort":case"reverse":case"copyWithin":return u;case"unshift":case"push":case"fill":return(...d)=>u(...d.map(r=>A(r)));case"splice":return(d,r,...c)=>u(d,r,...c.map(a=>A(a)));default:return e}}function A(t,o={}){if(M(t)||typeof t!="object")return t;let n=o.o||new Map,e=o.op||new Map,u=Array.isArray(t),d=[],r=u?[]:Object.create(t,{});for(let f in t){let s=t[f];typeof s=="object"&&s!==null?(r[f]=M(s)?s:A(s),d.push(f)):r[f]=s}let c=f=>(s,i)=>{let h=n.get(s),p=e.get(i);h||(h=new Set,n.set(s,h)),p||(p=new Set,e.set(i,p)),h[f](i),p[f](s)},a=c("add"),g=c("delete"),m=(f,s,i)=>{n.has(f)&&n.get(f).forEach(h=>h(s,i))},y={$on:a,$off:g,_em:m,_st:()=>({o:n,op:e,r,p:l._p}),_p:void 0},l=new Proxy(r,{get(...f){let[,s]=f;if(Reflect.has(y,s))return Reflect.get(y,s);let i=Reflect.get(...f);return W(l,s),u&&R(Array.prototype,s)?J(s,r,l,i):i},set(...f){let[s,i,h]=f,p=Reflect.get(s,i);if(Reflect.has(y,i))return Reflect.set(y,i,h);if(h&&M(p)){let x=p,_=x._st(),w=M(h)?G(h,x):A(h,_);return Reflect.set(s,i,w),m(i,w),_.o.forEach((K,S)=>{let C=Reflect.get(p,S),N=Reflect.get(w,S);C!==N&&x._em(S,N,C)}),!0}let E=Reflect.set(...f);return E&&(p!==h&&m(i,h,p),l._p&&l._p[1]._em(...l._p)),E}});return d.map(f=>{l[f]._p=[f,l]}),l}var U=F,X=A,Y=j;export{U as html,Q as nextTick,A as r,X as reactive,F as t,j as w,Y as watch};
//# sourceMappingURL=core.js.map