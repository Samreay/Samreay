<!doctype html><html lang=en-gb><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Plotting US COVID-19 Incidence - Samuel Hinton</title><link rel=stylesheet href="https://cosmiccoding.com.au/css/main.min.6ec7f8f7d033c70283a3fe4d7f89cfc14cad1cef1ad5bcabdf07178bff0d7d9f.css" integrity="sha256-bsf499AzxwKDo/5Nf4nPwUytHO8a1byr3wcXi/8NfZ8="><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel="shortcut icon" href=https://cosmiccoding.com.au/img/favicon.png type=image/x-icon></head><meta name=description content="A quick redesign of an incidence reporting plot"><meta name=robots content="noodp"><link rel=canonical href=https://cosmiccoding.com.au/tutorials/us_covid19_growth/><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://cosmiccoding.com.au/tutorials/us_covid19_growth/cover.png"><meta name=twitter:title content="Plotting US COVID-19 Incidence"><meta name=twitter:description content="A quick redesign of an incidence reporting plot"><meta property="og:title" content="Plotting US COVID-19 Incidence"><meta property="og:description" content="A quick redesign of an incidence reporting plot"><meta property="og:type" content="article"><meta property="og:url" content="https://cosmiccoding.com.au/tutorials/us_covid19_growth/"><meta property="og:image" content="https://cosmiccoding.com.au/tutorials/us_covid19_growth/cover.png"><meta property="article:section" content="tutorials"><meta property="article:published_time" content="2020-07-05T00:00:00+00:00"><meta property="article:modified_time" content="2020-07-05T00:00:00+00:00"><meta property="article:section" content="tutorial"><meta property="article:published_time" content="2020-07-05 00:00:00 +0000 UTC"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Plotting US COVID-19 Incidence","genre":"tutorial","url":"https:\/\/cosmiccoding.com.au\/tutorials\/us_covid19_growth\/","datePublished":"2020-07-05 00:00:00 \u002b0000 UTC","description":"A quick redesign of an incidence reporting plot","author":{"@type":"Person","name":""}}</script><body><div class="flex flex-col min-h-screen overflow-hidden"><header class="absolute w-full z-30"><div class="max-w-6xl mx-auto px-4 sm:px-6"><div class="flex items-center justify-between h-20"><div class="flex-shrink-0 mr-4"><a class=block href=/ aria-label="Samuel Hinton"><h2 class=logo>SRH</h2></a></div><nav class="hidden md:flex md:flex-grow"><ul class="flex flex-grow justify-end flex-wrap items-center"><li><a href=/#books class="text-gray-300 hover:text-gray-200 px-4 py-2 flex items-center transition duration-150 ease-in-out">Books</a></li><li><a href=/reviews class="text-gray-300 hover:text-gray-200 px-4 py-2 flex items-center transition duration-150 ease-in-out">Reviews</a></li><li><a href=/tutorials class="text-gray-300 hover:text-gray-200 px-4 py-2 flex items-center transition duration-150 ease-in-out">Tutorials</a></li><li><a href=/blogs class="text-gray-300 hover:text-gray-200 px-4 py-2 flex items-center transition duration-150 ease-in-out">Blog</a></li><li><a href=/#courses class="text-gray-300 hover:text-gray-200 px-4 py-2 flex items-center transition duration-150 ease-in-out">Courses</a></li><li><a href=/static/resume/HintonCV.pdf class="text-gray-300 hover:text-gray-200 px-4 py-2 flex items-center transition duration-150 ease-in-out">CV</a></li></ul></nav><div class=md:hidden x-data="{ expanded: false }"><button class=hamburger :class="{ 'active': expanded }" @click.stop="expanded = !expanded" aria-controls=mobile-nav :aria-expanded=expanded>
<span class=sr-only>Menu</span><svg class="w-6 h-6 fill-current text-gray-300 hover:text-gray-200 transition duration-150 ease-in-out" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><rect y="4" width="24" height="2" rx="1"/><rect y="11" width="24" height="2" rx="1"/><rect y="18" width="24" height="2" rx="1"/></svg></button><nav id=mobile-nav class="absolute top-full z-20 left-0 w-full px-4 sm:px-6 overflow-hidden transition-all duration-300 ease-in-out" x-ref=mobileNav :style="expanded ? 'max-height: ' + $refs.mobileNav.scrollHeight + 'px; opacity: 1' : 'max-height: 0; opacity: .8'" @click.away="expanded = false" @keydown.escape.window="expanded = false" x-cloak><ul class="bg-gray-800 px-4 py-2"><li><a href=/#books class="flex text-gray-300 hover:text-gray-200 py-2">Books</a></li><li><a href=/reviews class="flex text-gray-300 hover:text-gray-200 py-2">Reviews</a></li><li><a href=/tutorials class="flex text-gray-300 hover:text-gray-200 py-2">Tutorials</a></li><li><a href=/blogs class="flex text-gray-300 hover:text-gray-200 py-2">Blog</a></li><li><a href=/#courses class="flex text-gray-300 hover:text-gray-200 py-2">Courses</a></li><li><a href=/static/resume/HintonCV.pdf class="flex text-gray-300 hover:text-gray-200 py-2">CV</a></li></ul></nav></div></div></div></header><div class=flex-grow><div id=post-container class="content content-wider blog-post relative"><div class="section-header blog"><h1 class=title>Plotting US COVID-19 Incidence</h1><p>6th July 2020</p><p>A quick redesign of an incidence reporting plot</p></div><div><ul class="grid gap-6 w-full md:grid-cols-2" style=list-style:none;padding-left:0><li><input type=radio id=show-code name=code-toggle value=show-code class="hidden peer" onchange=clickCheckbox(this) required checked>
<label for=show-code class="inline-flex justify-between items-center p-5 w-full text-gray-500 bg-gray-800 rounded-lg border border-gray-200 cursor-pointer peer-checked:border-2 peer-checked:border-main-300 peer-checked:text-white peer-checked:bg-gray-700 hover:text-gray-200 hover:bg-gray-700"><div class="block w-full"><div class="w-full text-center text-lg font-semibold">Show me everything!</div><div class="w-full text-center text-sm">Oh yeah, coding time.</div></div></label></li><li><input type=radio id=hide-code name=code-toggle value=hide-code class="hidden peer" onchange=clickCheckbox(this)>
<label for=hide-code class="inline-flex justify-between items-center p-5 w-full text-gray-500 bg-gray-800 rounded-lg border border-gray-200 cursor-pointer peer-checked:border-2 peer-checked:border-main-300 peer-checked:text-white peer-checked:bg-gray-700 hover:text-gray-200 hover:bg-gray-700"><div class="block w-full"><div class="w-full text-center text-lg font-semibold">Just the plots</div><div class="w-full text-center text-sm">Code is nasty.</div></div></label></li></ul></div><script>function clickCheckbox(e){e.id=="show-code"?document.getElementById("post-container").classList.remove("hide-code"):document.getElementById("post-container").classList.add("hide-code")}</script><p>One of my favourite subreddits is <a href=https://reddit.com/r/dataisbeautiful/top>/r/dataisbeautiful</a>. Today I saw a <a href=https://www.reddit.com/r/dataisbeautiful/comments/hkvb3r/oc_7day_rolling_average_of_positive_covid19_test/>plot from that sub that was, on first glimpse, beautiful</a>! And full credit to the author for getting the data and presenting it beautifully. However, I had some small issues with it. The first was that it was smoothing over a cumulative window (instead of showing what I think people expect, which is how many people caught COVID-19 on those dates). The second was the colour scheme was diverging despite the data being sequential. No doubt it looks so good because of this colour scheme, but those two issues made the plot quite hard for me to extract information from.</p><p>So I decided to make an admittedly not-as-good-looking plot, but hopefully one that&rsquo;s easier to digest accurately. Remember, for plotting, function comes first. Always.</p><p>Here&rsquo;s what we&rsquo;ll be making:</p><p><div><figure class="img-poster img-lighten rounded"><picture><source srcset=/tutorials/us_covid19_growth/2020-07-05-US_COVID19_Growth_files/2020-07-05-US_COVID19_Growth_1_0_hu9c83a95591ce7495ad044ed49397fbf6_504177_1920x0_resize_q90_h2_box_3.webp width=1920 height=2264 type=image/webp><source srcset=/tutorials/us_covid19_growth/2020-07-05-US_COVID19_Growth_files/2020-07-05-US_COVID19_Growth_1_0.png width=2798 height=3300 type=image/png><img width=2798 height=3300 loading=lazy decoding=async alt=png src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mPMn7vLFAAFRgH97g1QygAAAABJRU5ErkJggg=="></picture></figure></div></p><p>To start, I cloned down the Johns Hopkins COVID-19 repo, and initally set the same states to exclude as the original post (which has <a href=https://github.com/DavidMorton/COVID-19-Analysis/blob/master/COVID-19%20Confirmed%20Percentage%20Heatmap.ipynb>source code here</a>).</p><div class="expanded-code width-83" markdown=1><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ff6ac1>import</span> os
</span></span><span style=display:flex><span><span style=color:#ff6ac1>import</span> pandas <span style=color:#ff6ac1>as</span> pd
</span></span><span style=display:flex><span><span style=color:#ff6ac1>import</span> numpy <span style=color:#ff6ac1>as</span> np
</span></span><span style=display:flex><span><span style=color:#ff6ac1>import</span> seaborn <span style=color:#ff6ac1>as</span> sns
</span></span><span style=display:flex><span><span style=color:#ff6ac1>import</span> matplotlib.pyplot <span style=color:#ff6ac1>as</span> plt
</span></span><span style=display:flex><span><span style=color:#ff6ac1>import</span> cmasher <span style=color:#ff6ac1>as</span> cmr
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#78787e># Some config variables that Im going to break scope with, forgive me.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#78787e># Dir where you clone out https://github.com/CSSEGISandData/COVID-19</span>
</span></span><span style=display:flex><span>data_directory <span style=color:#ff6ac1>=</span> <span style=color:#5af78e>&#34;D:/COVID-19/csse_covid_19_data/csse_covid_19_daily_reports_us/&#34;</span>
</span></span><span style=display:flex><span>states_to_drop <span style=color:#ff6ac1>=</span> [<span style=color:#5af78e>&#39;Puerto Rico&#39;</span>, <span style=color:#5af78e>&#39;American Samoa&#39;</span>, <span style=color:#5af78e>&#39;Guam&#39;</span>, <span style=color:#5af78e>&#39;District of Columbia&#39;</span>, 
</span></span><span style=display:flex><span>                  <span style=color:#5af78e>&#39;Diamond Princess&#39;</span>, <span style=color:#5af78e>&#39;Northern Mariana Islands&#39;</span>, <span style=color:#5af78e>&#39;Virgin Islands&#39;</span>,
</span></span><span style=display:flex><span>                 <span style=color:#5af78e>&#39;Recovered&#39;</span>, <span style=color:#5af78e>&#34;Grand Princess&#34;</span>]
</span></span><span style=display:flex><span>columns_to_keep <span style=color:#ff6ac1>=</span> [<span style=color:#5af78e>&#34;Province_State&#34;</span>, <span style=color:#5af78e>&#34;Incident_Rate&#34;</span>]
</span></span></code></pre></div></div><p>Then, lets find all the csv files for the US states and load them in.</p><div class=width-72 markdown=1><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ff6ac1>def</span> <span style=color:#57c7ff>load_csv</span>(directory, filename):
</span></span><span style=display:flex><span>    date <span style=color:#ff6ac1>=</span> filename<span style=color:#ff6ac1>.</span>replace(<span style=color:#5af78e>&#34;.csv&#34;</span>, <span style=color:#5af78e>&#34;&#34;</span>)
</span></span><span style=display:flex><span>    df <span style=color:#ff6ac1>=</span> pd<span style=color:#ff6ac1>.</span>read_csv(os<span style=color:#ff6ac1>.</span>path<span style=color:#ff6ac1>.</span>join(directory, filename))[columns_to_keep]
</span></span><span style=display:flex><span>    df[<span style=color:#5af78e>&#34;date&#34;</span>] <span style=color:#ff6ac1>=</span> pd<span style=color:#ff6ac1>.</span>to_datetime(date, <span style=color:#ff5c57>format</span><span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;%m-</span><span style=color:#5af78e>%d</span><span style=color:#5af78e>-%Y&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>return</span> df
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>def</span> <span style=color:#57c7ff>load_data</span>(directory):
</span></span><span style=display:flex><span>    files <span style=color:#ff6ac1>=</span> [f <span style=color:#ff6ac1>for</span> f <span style=color:#ff6ac1>in</span> os<span style=color:#ff6ac1>.</span>listdir(directory) <span style=color:#ff6ac1>if</span> f<span style=color:#ff6ac1>.</span>endswith(<span style=color:#5af78e>&#34;.csv&#34;</span>)]
</span></span><span style=display:flex><span>    dataframes <span style=color:#ff6ac1>=</span> [load_csv(directory, f) <span style=color:#ff6ac1>for</span> f <span style=color:#ff6ac1>in</span> files]
</span></span><span style=display:flex><span>    df_all <span style=color:#ff6ac1>=</span> pd<span style=color:#ff6ac1>.</span>concat(dataframes)
</span></span><span style=display:flex><span>    df_all <span style=color:#ff6ac1>=</span> df_all<span style=color:#ff6ac1>.</span>rename(columns<span style=color:#ff6ac1>=</span>{<span style=color:#5af78e>&#34;Province_State&#34;</span>: <span style=color:#5af78e>&#34;state&#34;</span>, 
</span></span><span style=display:flex><span>                                    <span style=color:#5af78e>&#34;Incident_Rate&#34;</span>: <span style=color:#5af78e>&#34;rate&#34;</span>})
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>return</span> df_all[<span style=color:#ff6ac1>~</span>df_all<span style=color:#ff6ac1>.</span>state<span style=color:#ff6ac1>.</span>isin(states_to_drop)]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#78787e># Load all the data into long format</span>
</span></span><span style=display:flex><span>df_long <span style=color:#ff6ac1>=</span> load_data(data_directory)
</span></span></code></pre></div></div><p>We now have the cumulative number of cases per 100k residents for each state.</p><p>With the long format data attained, we now pivot to separate state and date, and then sort the columns.</p><p>As the incident rate is cumulative, we take the difference to the previous day, dropping day 0.</p><div class=width-69 markdown=1><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#78787e># Pivot into a 2D format and sort the columns</span>
</span></span><span style=display:flex><span>df_wide <span style=color:#ff6ac1>=</span> df_long<span style=color:#ff6ac1>.</span>pivot(index<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;date&#34;</span>, columns<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;state&#34;</span>, values<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;rate&#34;</span>)
</span></span></code></pre></div></div><div class="reduced-code width-54" markdown=1><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#78787e># Take the difference to get the change in incidence. </span>
</span></span><span style=display:flex><span><span style=color:#78787e># Drop the first row as its all NaN</span>
</span></span><span style=display:flex><span>df_diff <span style=color:#ff6ac1>=</span> df_wide<span style=color:#ff6ac1>.</span>diff()<span style=color:#ff6ac1>.</span>iloc[<span style=color:#ff9f43>1</span>:, :]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#78787e># There seems to be some odd spikes in the data. </span>
</span></span><span style=display:flex><span><span style=color:#78787e># In fact, from look at each state individually,</span>
</span></span><span style=display:flex><span><span style=color:#78787e># this data is definitely incorrect in some way. </span>
</span></span><span style=display:flex><span><span style=color:#78787e># Many states have a drop by 20 to 60% in the number</span>
</span></span><span style=display:flex><span><span style=color:#78787e># of accumulated cases at the start of May... </span>
</span></span><span style=display:flex><span><span style=color:#78787e># For now, Ill just clip the data</span>
</span></span><span style=display:flex><span>df_diff <span style=color:#ff6ac1>=</span> df_diff<span style=color:#ff6ac1>.</span>clip(<span style=color:#ff9f43>0</span>, <span style=color:#ff9f43>20</span>)
</span></span></code></pre></div></div><p>For this to look good, we want some smart sorting of the columns. Lets determine a linear slope from the incidence rate difference and sort by that.</p><div class="reduced-code width-50" markdown=1><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>day_of_year <span style=color:#ff6ac1>=</span> df_diff<span style=color:#ff6ac1>.</span>index<span style=color:#ff6ac1>.</span>dayofyear<span style=color:#ff6ac1>.</span>to_numpy()
</span></span><span style=display:flex><span>day_weight <span style=color:#ff6ac1>=</span> day_of_year <span style=color:#ff6ac1>-</span> day_of_year<span style=color:#ff6ac1>.</span>mean()
</span></span><span style=display:flex><span>sort_weight <span style=color:#ff6ac1>=</span> (df_diff<span style=color:#ff6ac1>.</span>T <span style=color:#ff6ac1>*</span> day_weight)<span style=color:#ff6ac1>.</span>sum(axis<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>1</span>)
</span></span></code></pre></div></div><div class="reduced-code width-52" markdown=1><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>df_sorted <span style=color:#ff6ac1>=</span> df_diff<span style=color:#ff6ac1>.</span>iloc[:, sort_weight<span style=color:#ff6ac1>.</span>argsort()]<span style=color:#ff6ac1>.</span>T
</span></span></code></pre></div></div><p>Finally, let us plot everything nicely, and add an option to add some mean smoothing into the data.</p><div class="expanded-code width-104" markdown=1><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ff6ac1>def</span> <span style=color:#57c7ff>plot_evolution</span>(dfo, smooth<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>7</span>, cmap<span style=color:#ff6ac1>=</span><span style=color:#ff6ac1>None</span>):
</span></span><span style=display:flex><span>    <span style=color:#78787e># Optionally smooth the data</span>
</span></span><span style=display:flex><span>    df <span style=color:#ff6ac1>=</span> dfo<span style=color:#ff6ac1>.</span>rolling(smooth, axis<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>1</span>)<span style=color:#ff6ac1>.</span>mean()<span style=color:#ff6ac1>.</span>iloc[:, smooth <span style=color:#ff6ac1>-</span> <span style=color:#ff9f43>1</span>:] <span style=color:#ff6ac1>if</span> smooth <span style=color:#ff6ac1>else</span> dfo
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>if</span> cmap <span style=color:#ff6ac1>is</span> <span style=color:#ff6ac1>None</span>: <span style=color:#78787e># Default to using cmasher&#39;s ember colorscale. Thanks Ellert.</span>
</span></span><span style=display:flex><span>        cmap <span style=color:#ff6ac1>=</span> plt<span style=color:#ff6ac1>.</span>get_cmap(<span style=color:#5af78e>&#39;cmr.ember&#39;</span>) 
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#78787e># Set up plotting style with dark bg</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>with</span> plt<span style=color:#ff6ac1>.</span>style<span style=color:#ff6ac1>.</span>context(<span style=color:#5af78e>&#34;dark_background&#34;</span>):
</span></span><span style=display:flex><span>        fig, ax <span style=color:#ff6ac1>=</span> plt<span style=color:#ff6ac1>.</span>subplots(figsize<span style=color:#ff6ac1>=</span>(<span style=color:#ff9f43>10</span>, <span style=color:#ff9f43>11</span>))
</span></span><span style=display:flex><span>        idx <span style=color:#ff6ac1>=</span> [d<span style=color:#ff6ac1>.</span>strftime(<span style=color:#5af78e>&#34;%B </span><span style=color:#5af78e>%d</span><span style=color:#5af78e>&#34;</span>) <span style=color:#ff6ac1>for</span> d <span style=color:#ff6ac1>in</span> df<span style=color:#ff6ac1>.</span>columns]
</span></span><span style=display:flex><span>        xlabels <span style=color:#ff6ac1>=</span> [x <span style=color:#ff6ac1>if</span> i <span style=color:#ff6ac1>%</span> <span style=color:#ff9f43>4</span> <span style=color:#ff6ac1>==</span> <span style=color:#ff9f43>3</span> <span style=color:#ff6ac1>else</span> <span style=color:#5af78e>&#34;&#34;</span> <span style=color:#ff6ac1>for</span> i, x <span style=color:#ff6ac1>in</span> <span style=color:#ff5c57>enumerate</span>(idx)]
</span></span><span style=display:flex><span>        sns<span style=color:#ff6ac1>.</span>heatmap(df, ax<span style=color:#ff6ac1>=</span>ax, cmap<span style=color:#ff6ac1>=</span>cmap, xticklabels<span style=color:#ff6ac1>=</span>xlabels, cbar_kws<span style=color:#ff6ac1>=</span>{<span style=color:#5af78e>&#34;aspect&#34;</span>: <span style=color:#ff9f43>30</span>})
</span></span><span style=display:flex><span>        ax<span style=color:#ff6ac1>.</span>set_xticklabels(labels<span style=color:#ff6ac1>=</span>xlabels, rotation<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>45</span>, ha<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;right&#34;</span>)
</span></span><span style=display:flex><span>        ax<span style=color:#ff6ac1>.</span>tick_params(axis<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#39;both&#39;</span>, which<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#39;both&#39;</span>, length<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>0</span>)
</span></span><span style=display:flex><span>        ax<span style=color:#ff6ac1>.</span>set_xlabel(<span style=color:#5af78e>&#39;&#39;</span>)
</span></span><span style=display:flex><span>        ax<span style=color:#ff6ac1>.</span>set_ylabel(<span style=color:#5af78e>&#39;&#39;</span>)
</span></span><span style=display:flex><span>        fig<span style=color:#ff6ac1>.</span>patch<span style=color:#ff6ac1>.</span>set_facecolor(<span style=color:#5af78e>&#39;#111111&#39;</span>)
</span></span><span style=display:flex><span>        ax<span style=color:#ff6ac1>.</span>set_title(<span style=color:#5af78e>&#39;7-Day Rolling Average of COVID-19</span><span style=color:#5af78e>\n</span><span style=color:#5af78e>Daily Incident Rate per 100k Citizens</span><span style=color:#5af78e>\n</span><span style=color:#5af78e>&#39;</span>, 
</span></span><span style=display:flex><span>                     size<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>20</span>, pad<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>5</span>)
</span></span><span style=display:flex><span>        ax<span style=color:#ff6ac1>.</span>annotate(<span style=color:#5af78e>&#39;Source: Johns Hopkins COVID-19 Data (https://github.com/CSSEGISandData/COVID-19)&#39;</span>, 
</span></span><span style=display:flex><span>                    (<span style=color:#ff9f43>0.5</span>,<span style=color:#ff9f43>0</span>), (<span style=color:#ff9f43>0</span>, <span style=color:#ff6ac1>-</span><span style=color:#ff9f43>45</span>), xycoords<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#39;axes fraction&#39;</span>, color<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;#a19a92&#34;</span>,
</span></span><span style=display:flex><span>                    textcoords<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#39;offset points&#39;</span>, size<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>10</span>, va<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#39;top&#39;</span>, ha<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;center&#34;</span>)
</span></span><span style=display:flex><span>        ax<span style=color:#ff6ac1>.</span>annotate(<span style=color:#5af78e>&#39;Sorted from high containment to low containment&#39;</span>, 
</span></span><span style=display:flex><span>                    (<span style=color:#ff9f43>0.5</span>,<span style=color:#ff9f43>1</span>), (<span style=color:#ff9f43>0</span>, <span style=color:#ff9f43>15</span>), xycoords<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#39;axes fraction&#39;</span>, color<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;#a19a92&#34;</span>,
</span></span><span style=display:flex><span>                    textcoords<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#39;offset points&#39;</span>, size<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>10</span>, va<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#39;top&#39;</span>, ha<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;center&#34;</span>)
</span></span><span style=display:flex><span>        fig<span style=color:#ff6ac1>.</span>savefig(<span style=color:#5af78e>&#34;covid19.png&#34;</span>, dpi<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>300</span>, bbox_inches<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;tight&#34;</span>, pad_inches<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>0.5</span>, 
</span></span><span style=display:flex><span>                    facecolor<span style=color:#ff6ac1>=</span>fig<span style=color:#ff6ac1>.</span>get_facecolor())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>plot_evolution(df_sorted)
</span></span></code></pre></div></div><p><div><figure class="poster rounded"><picture><source srcset=/tutorials/us_covid19_growth/2020-07-05-US_COVID19_Growth_files/2020-07-05-US_COVID19_Growth_13_0_hudce021f2d3bff7394d2243c5b8544698_375088_1920x0_resize_q90_h2_box_3.webp width=1920 height=2293 type=image/webp><source srcset=/tutorials/us_covid19_growth/2020-07-05-US_COVID19_Growth_files/2020-07-05-US_COVID19_Growth_13_0.png width=2046 height=2443 type=image/png><img width=2046 height=2443 loading=lazy decoding=async alt=png src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mPMn7vLFAAFRgH97g1QygAAAABJRU5ErkJggg=="></picture></figure></div></p><p>And there we have it. Not as beautiful as the original, but hopefully a better representation of the data. I also talk about this in the comments, but there really does seem to be an awful artifact in the data for almost all states in the month of May, where the <strong>cumulative</strong> incident rate drops. Which is, you know, impossible. But without the sources, I don&rsquo;t know what is going on here.</p><p><div><figure class="img-main remove rounded"><picture><source srcset=/tutorials/us_covid19_growth/cover_hu394b5be7c98e50d0137850aac748e005_156632_1000x0_resize_q90_h2_box_3.webp width=1000 height=650 type=image/webp><source srcset=/tutorials/us_covid19_growth/cover.png width=1000 height=650 type=image/png><img width=1000 height=650 loading=lazy decoding=async alt=png src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mPMn7vLFAAFRgH97g1QygAAAABJRU5ErkJggg=="></picture></figure></div></p><hr><p>For your convenience, here&rsquo;s the code in one block:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ff6ac1>import</span> os
</span></span><span style=display:flex><span><span style=color:#ff6ac1>import</span> pandas <span style=color:#ff6ac1>as</span> pd
</span></span><span style=display:flex><span><span style=color:#ff6ac1>import</span> numpy <span style=color:#ff6ac1>as</span> np
</span></span><span style=display:flex><span><span style=color:#ff6ac1>import</span> seaborn <span style=color:#ff6ac1>as</span> sns
</span></span><span style=display:flex><span><span style=color:#ff6ac1>import</span> matplotlib.pyplot <span style=color:#ff6ac1>as</span> plt
</span></span><span style=display:flex><span><span style=color:#ff6ac1>import</span> cmasher <span style=color:#ff6ac1>as</span> cmr
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#78787e># Some config variables that Im going to break scope with, forgive me.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#78787e># Dir where you clone out https://github.com/CSSEGISandData/COVID-19</span>
</span></span><span style=display:flex><span>data_directory <span style=color:#ff6ac1>=</span> <span style=color:#5af78e>&#34;D:/COVID-19/csse_covid_19_data/csse_covid_19_daily_reports_us/&#34;</span>
</span></span><span style=display:flex><span>states_to_drop <span style=color:#ff6ac1>=</span> [<span style=color:#5af78e>&#39;Puerto Rico&#39;</span>, <span style=color:#5af78e>&#39;American Samoa&#39;</span>, <span style=color:#5af78e>&#39;Guam&#39;</span>, <span style=color:#5af78e>&#39;District of Columbia&#39;</span>, 
</span></span><span style=display:flex><span>                  <span style=color:#5af78e>&#39;Diamond Princess&#39;</span>, <span style=color:#5af78e>&#39;Northern Mariana Islands&#39;</span>, <span style=color:#5af78e>&#39;Virgin Islands&#39;</span>,
</span></span><span style=display:flex><span>                 <span style=color:#5af78e>&#39;Recovered&#39;</span>, <span style=color:#5af78e>&#34;Grand Princess&#34;</span>]
</span></span><span style=display:flex><span>columns_to_keep <span style=color:#ff6ac1>=</span> [<span style=color:#5af78e>&#34;Province_State&#34;</span>, <span style=color:#5af78e>&#34;Incident_Rate&#34;</span>]
</span></span><span style=display:flex><span><span style=color:#ff6ac1>def</span> <span style=color:#57c7ff>load_csv</span>(directory, filename):
</span></span><span style=display:flex><span>    date <span style=color:#ff6ac1>=</span> filename<span style=color:#ff6ac1>.</span>replace(<span style=color:#5af78e>&#34;.csv&#34;</span>, <span style=color:#5af78e>&#34;&#34;</span>)
</span></span><span style=display:flex><span>    df <span style=color:#ff6ac1>=</span> pd<span style=color:#ff6ac1>.</span>read_csv(os<span style=color:#ff6ac1>.</span>path<span style=color:#ff6ac1>.</span>join(directory, filename))[columns_to_keep]
</span></span><span style=display:flex><span>    df[<span style=color:#5af78e>&#34;date&#34;</span>] <span style=color:#ff6ac1>=</span> pd<span style=color:#ff6ac1>.</span>to_datetime(date, <span style=color:#ff5c57>format</span><span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;%m-</span><span style=color:#5af78e>%d</span><span style=color:#5af78e>-%Y&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>return</span> df
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>def</span> <span style=color:#57c7ff>load_data</span>(directory):
</span></span><span style=display:flex><span>    files <span style=color:#ff6ac1>=</span> [f <span style=color:#ff6ac1>for</span> f <span style=color:#ff6ac1>in</span> os<span style=color:#ff6ac1>.</span>listdir(directory) <span style=color:#ff6ac1>if</span> f<span style=color:#ff6ac1>.</span>endswith(<span style=color:#5af78e>&#34;.csv&#34;</span>)]
</span></span><span style=display:flex><span>    dataframes <span style=color:#ff6ac1>=</span> [load_csv(directory, f) <span style=color:#ff6ac1>for</span> f <span style=color:#ff6ac1>in</span> files]
</span></span><span style=display:flex><span>    df_all <span style=color:#ff6ac1>=</span> pd<span style=color:#ff6ac1>.</span>concat(dataframes)
</span></span><span style=display:flex><span>    df_all <span style=color:#ff6ac1>=</span> df_all<span style=color:#ff6ac1>.</span>rename(columns<span style=color:#ff6ac1>=</span>{<span style=color:#5af78e>&#34;Province_State&#34;</span>: <span style=color:#5af78e>&#34;state&#34;</span>, 
</span></span><span style=display:flex><span>                                    <span style=color:#5af78e>&#34;Incident_Rate&#34;</span>: <span style=color:#5af78e>&#34;rate&#34;</span>})
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>return</span> df_all[<span style=color:#ff6ac1>~</span>df_all<span style=color:#ff6ac1>.</span>state<span style=color:#ff6ac1>.</span>isin(states_to_drop)]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#78787e># Load all the data into long format</span>
</span></span><span style=display:flex><span>df_long <span style=color:#ff6ac1>=</span> load_data(data_directory)
</span></span><span style=display:flex><span><span style=color:#78787e># Pivot into a 2D format and sort the columns</span>
</span></span><span style=display:flex><span>df_wide <span style=color:#ff6ac1>=</span> df_long<span style=color:#ff6ac1>.</span>pivot(index<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;date&#34;</span>, columns<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;state&#34;</span>, values<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;rate&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#78787e># Take the difference to get the change in incidence. </span>
</span></span><span style=display:flex><span><span style=color:#78787e># Drop the first row as its all NaN</span>
</span></span><span style=display:flex><span>df_diff <span style=color:#ff6ac1>=</span> df_wide<span style=color:#ff6ac1>.</span>diff()<span style=color:#ff6ac1>.</span>iloc[<span style=color:#ff9f43>1</span>:, :]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#78787e># There seems to be some odd spikes in the data. </span>
</span></span><span style=display:flex><span><span style=color:#78787e># In fact, from look at each state individually,</span>
</span></span><span style=display:flex><span><span style=color:#78787e># this data is definitely incorrect in some way. </span>
</span></span><span style=display:flex><span><span style=color:#78787e># Many states have a drop by 20 to 60% in the number</span>
</span></span><span style=display:flex><span><span style=color:#78787e># of accumulated cases at the start of May... </span>
</span></span><span style=display:flex><span><span style=color:#78787e># For now, Ill just clip the data</span>
</span></span><span style=display:flex><span>df_diff <span style=color:#ff6ac1>=</span> df_diff<span style=color:#ff6ac1>.</span>clip(<span style=color:#ff9f43>0</span>, <span style=color:#ff9f43>20</span>)
</span></span><span style=display:flex><span>day_of_year <span style=color:#ff6ac1>=</span> df_diff<span style=color:#ff6ac1>.</span>index<span style=color:#ff6ac1>.</span>dayofyear<span style=color:#ff6ac1>.</span>to_numpy()
</span></span><span style=display:flex><span>day_weight <span style=color:#ff6ac1>=</span> day_of_year <span style=color:#ff6ac1>-</span> day_of_year<span style=color:#ff6ac1>.</span>mean()
</span></span><span style=display:flex><span>sort_weight <span style=color:#ff6ac1>=</span> (df_diff<span style=color:#ff6ac1>.</span>T <span style=color:#ff6ac1>*</span> day_weight)<span style=color:#ff6ac1>.</span>sum(axis<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>1</span>)
</span></span><span style=display:flex><span>df_sorted <span style=color:#ff6ac1>=</span> df_diff<span style=color:#ff6ac1>.</span>iloc[:, sort_weight<span style=color:#ff6ac1>.</span>argsort()]<span style=color:#ff6ac1>.</span>T
</span></span><span style=display:flex><span><span style=color:#ff6ac1>def</span> <span style=color:#57c7ff>plot_evolution</span>(dfo, smooth<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>7</span>, cmap<span style=color:#ff6ac1>=</span><span style=color:#ff6ac1>None</span>):
</span></span><span style=display:flex><span>    <span style=color:#78787e># Optionally smooth the data</span>
</span></span><span style=display:flex><span>    df <span style=color:#ff6ac1>=</span> dfo<span style=color:#ff6ac1>.</span>rolling(smooth, axis<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>1</span>)<span style=color:#ff6ac1>.</span>mean()<span style=color:#ff6ac1>.</span>iloc[:, smooth <span style=color:#ff6ac1>-</span> <span style=color:#ff9f43>1</span>:] <span style=color:#ff6ac1>if</span> smooth <span style=color:#ff6ac1>else</span> dfo
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>if</span> cmap <span style=color:#ff6ac1>is</span> <span style=color:#ff6ac1>None</span>: <span style=color:#78787e># Default to using cmasher&#39;s ember colorscale. Thanks Ellert.</span>
</span></span><span style=display:flex><span>        cmap <span style=color:#ff6ac1>=</span> plt<span style=color:#ff6ac1>.</span>get_cmap(<span style=color:#5af78e>&#39;cmr.ember&#39;</span>) 
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#78787e># Set up plotting style with dark bg</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>with</span> plt<span style=color:#ff6ac1>.</span>style<span style=color:#ff6ac1>.</span>context(<span style=color:#5af78e>&#34;dark_background&#34;</span>):
</span></span><span style=display:flex><span>        fig, ax <span style=color:#ff6ac1>=</span> plt<span style=color:#ff6ac1>.</span>subplots(figsize<span style=color:#ff6ac1>=</span>(<span style=color:#ff9f43>10</span>, <span style=color:#ff9f43>11</span>))
</span></span><span style=display:flex><span>        idx <span style=color:#ff6ac1>=</span> [d<span style=color:#ff6ac1>.</span>strftime(<span style=color:#5af78e>&#34;%B </span><span style=color:#5af78e>%d</span><span style=color:#5af78e>&#34;</span>) <span style=color:#ff6ac1>for</span> d <span style=color:#ff6ac1>in</span> df<span style=color:#ff6ac1>.</span>columns]
</span></span><span style=display:flex><span>        xlabels <span style=color:#ff6ac1>=</span> [x <span style=color:#ff6ac1>if</span> i <span style=color:#ff6ac1>%</span> <span style=color:#ff9f43>4</span> <span style=color:#ff6ac1>==</span> <span style=color:#ff9f43>3</span> <span style=color:#ff6ac1>else</span> <span style=color:#5af78e>&#34;&#34;</span> <span style=color:#ff6ac1>for</span> i, x <span style=color:#ff6ac1>in</span> <span style=color:#ff5c57>enumerate</span>(idx)]
</span></span><span style=display:flex><span>        sns<span style=color:#ff6ac1>.</span>heatmap(df, ax<span style=color:#ff6ac1>=</span>ax, cmap<span style=color:#ff6ac1>=</span>cmap, xticklabels<span style=color:#ff6ac1>=</span>xlabels, cbar_kws<span style=color:#ff6ac1>=</span>{<span style=color:#5af78e>&#34;aspect&#34;</span>: <span style=color:#ff9f43>30</span>})
</span></span><span style=display:flex><span>        ax<span style=color:#ff6ac1>.</span>set_xticklabels(labels<span style=color:#ff6ac1>=</span>xlabels, rotation<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>45</span>, ha<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;right&#34;</span>)
</span></span><span style=display:flex><span>        ax<span style=color:#ff6ac1>.</span>tick_params(axis<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#39;both&#39;</span>, which<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#39;both&#39;</span>, length<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>0</span>)
</span></span><span style=display:flex><span>        ax<span style=color:#ff6ac1>.</span>set_xlabel(<span style=color:#5af78e>&#39;&#39;</span>)
</span></span><span style=display:flex><span>        ax<span style=color:#ff6ac1>.</span>set_ylabel(<span style=color:#5af78e>&#39;&#39;</span>)
</span></span><span style=display:flex><span>        fig<span style=color:#ff6ac1>.</span>patch<span style=color:#ff6ac1>.</span>set_facecolor(<span style=color:#5af78e>&#39;#111111&#39;</span>)
</span></span><span style=display:flex><span>        ax<span style=color:#ff6ac1>.</span>set_title(<span style=color:#5af78e>&#39;7-Day Rolling Average of COVID-19</span><span style=color:#5af78e>\n</span><span style=color:#5af78e>Daily Incident Rate per 100k Citizens</span><span style=color:#5af78e>\n</span><span style=color:#5af78e>&#39;</span>, 
</span></span><span style=display:flex><span>                     size<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>20</span>, pad<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>5</span>)
</span></span><span style=display:flex><span>        ax<span style=color:#ff6ac1>.</span>annotate(<span style=color:#5af78e>&#39;Source: Johns Hopkins COVID-19 Data (https://github.com/CSSEGISandData/COVID-19)&#39;</span>, 
</span></span><span style=display:flex><span>                    (<span style=color:#ff9f43>0.5</span>,<span style=color:#ff9f43>0</span>), (<span style=color:#ff9f43>0</span>, <span style=color:#ff6ac1>-</span><span style=color:#ff9f43>45</span>), xycoords<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#39;axes fraction&#39;</span>, color<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;#a19a92&#34;</span>,
</span></span><span style=display:flex><span>                    textcoords<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#39;offset points&#39;</span>, size<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>10</span>, va<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#39;top&#39;</span>, ha<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;center&#34;</span>)
</span></span><span style=display:flex><span>        ax<span style=color:#ff6ac1>.</span>annotate(<span style=color:#5af78e>&#39;Sorted from high containment to low containment&#39;</span>, 
</span></span><span style=display:flex><span>                    (<span style=color:#ff9f43>0.5</span>,<span style=color:#ff9f43>1</span>), (<span style=color:#ff9f43>0</span>, <span style=color:#ff9f43>15</span>), xycoords<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#39;axes fraction&#39;</span>, color<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;#a19a92&#34;</span>,
</span></span><span style=display:flex><span>                    textcoords<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#39;offset points&#39;</span>, size<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>10</span>, va<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#39;top&#39;</span>, ha<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;center&#34;</span>)
</span></span><span style=display:flex><span>        fig<span style=color:#ff6ac1>.</span>savefig(<span style=color:#5af78e>&#34;covid19.png&#34;</span>, dpi<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>300</span>, bbox_inches<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;tight&#34;</span>, pad_inches<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>0.5</span>, 
</span></span><span style=display:flex><span>                    facecolor<span style=color:#ff6ac1>=</span>fig<span style=color:#ff6ac1>.</span>get_facecolor())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>plot_evolution(df_sorted)
</span></span></code></pre></div><div class="relative max-w-xl mx-auto my-20"><div class="fancy_card horizontal"><div class=card_translator><div class="card_rotator tiny_rot card_layer"><div class="card_layer newsletter p-2"><div class="newsletter-inner h-full"><div class="relative h-full sib-form-container" id=sib-form-container><div class="mb-6 lg:mb-12 text-center"><h3 class="text-main-200 mb-2 lg:mb-8">Stay in the loop!</h3><p class="text-main-100 text-lg text-opacity-70">For new releases, exclusive giveaways, and reviews.</p></div><form action="https://Cosmiccoding.us5.list-manage.com/subscribe/post?u=aebe5de1d2e40dccb3aeca491&id=3987dd4a1f" method=post id=mc-embedded-subscribe-form name=mc-embedded-subscribe-form class="validate w-full" target=_blank novalidate><div><input type=email class="w-full appearance-none bg-main-600 mb-4 border border-main-600 bg-opacity-5 focus:border-main-300 rounded-sm px-4 py-3 text-main-100 placeholder-main-100 required" placeholder="Your best email…" aria-label="Your best email…" name=EMAIL required data-required=true id=EMAIL><div style=position:absolute;left:-5000px aria-hidden=true><input type=text name=b_aebe5de1d2e40dccb3aeca491_3987dd4a1f tabindex=-1></div><input type=submit value=Subscribe name=subscribe id=mc-embedded-subscribe class="button btn bg-main-600 hover:bg-main-400 shadow w-full"></div><p id=mce-error-response style=display:none class="text-center mt-2 opacity-50 text-main-200">There was a problem, please try again.</p><p id=mce-success-response style=display:none class="text-center mt-2 opacity-50 text-main-200">Thanks mate, won't let ya down.</p></form></div></div></div><div class="card_layer card_effect card_soft_glare" style=pointer-events:none></div></div></div></div></div></div></div><script language=javascript type=text/javascript src=https://cosmiccoding.com.au/js/main.min.11673d10a962fb5205229607e62ea1d23424d35dad33db7bfe2a09a63d5409fa.js></script>
<script async defer src="https://www.googletagmanager.com/gtag/js?id=G-GRX6QE03YR"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-GRX6QE03YR")</script></div></body></html>