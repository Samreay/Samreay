<!doctype html><html lang=en-gb><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Low Poly Art - Samuel Hinton</title><link rel=stylesheet href="https://cosmiccoding.com.au/css/main.min.5885372f23ef07b79bc16e6f2da719ab7aef8e679a9f36a46a5dfe568f4d60e7.css" integrity="sha256-WIU3LyPvB7ebwW5vLacZq3rvjmeanzakal3+Vo9NYOc="><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel="shortcut icon" href=https://cosmiccoding.com.au/img/favicon.png type=image/x-icon></head><meta name=description content="Low poly art animations using scipy is actually pretty simple"><meta name=robots content="noodp"><link rel=canonical href=https://cosmiccoding.com.au/tutorials/lowpoly/><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://cosmiccoding.com.au/tutorials/lowpoly/cover.png"><meta name=twitter:title content="Low Poly Art"><meta name=twitter:description content="Low poly art animations using scipy is actually pretty simple"><meta property="og:title" content="Low Poly Art"><meta property="og:description" content="Low poly art animations using scipy is actually pretty simple"><meta property="og:type" content="article"><meta property="og:url" content="https://cosmiccoding.com.au/tutorials/lowpoly/"><meta property="og:image" content="https://cosmiccoding.com.au/tutorials/lowpoly/cover.png"><meta property="article:section" content="tutorials"><meta property="article:published_time" content="2021-03-22T00:00:00+00:00"><meta property="article:modified_time" content="2021-03-22T00:00:00+00:00"><meta property="article:section" content="tutorial"><meta property="article:published_time" content="2021-03-22 00:00:00 +0000 UTC"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Low Poly Art","genre":"tutorial","url":"https:\/\/cosmiccoding.com.au\/tutorials\/lowpoly\/","datePublished":"2021-03-22 00:00:00 \u002b0000 UTC","description":"Low poly art animations using scipy is actually pretty simple","author":{"@type":"Person","name":""}}</script><body><div class="flex flex-col min-h-screen overflow-hidden"><header class="absolute w-full z-30"><div class="max-w-6xl mx-auto px-4 sm:px-6"><div class="flex items-center justify-between h-20"><div class="flex-shrink-0 mr-4"><a class=block href=/ aria-label="Samuel Hinton"><h2 class=logo>SRH</h2></a></div><nav class="hidden md:flex md:flex-grow"><ul class="flex flex-grow justify-end flex-wrap items-center"><li><a href=/#books class="text-gray-300 hover:text-gray-200 px-4 py-2 flex items-center transition duration-150 ease-in-out">Books</a></li><li><a href=/reviews class="text-gray-300 hover:text-gray-200 px-4 py-2 flex items-center transition duration-150 ease-in-out">Reviews</a></li><li><a href=/tutorials class="text-gray-300 hover:text-gray-200 px-4 py-2 flex items-center transition duration-150 ease-in-out">Tutorials</a></li><li><a href=/blogs class="text-gray-300 hover:text-gray-200 px-4 py-2 flex items-center transition duration-150 ease-in-out">Blog</a></li><li><a href=/#courses class="text-gray-300 hover:text-gray-200 px-4 py-2 flex items-center transition duration-150 ease-in-out">Courses</a></li><li><a href=/static/resume/HintonCV.pdf class="text-gray-300 hover:text-gray-200 px-4 py-2 flex items-center transition duration-150 ease-in-out">CV</a></li></ul></nav><div class=md:hidden x-data="{ expanded: false }"><button class=hamburger :class="{ 'active': expanded }" @click.stop="expanded = !expanded" aria-controls=mobile-nav :aria-expanded=expanded>
<span class=sr-only>Menu</span><svg class="w-6 h-6 fill-current text-gray-300 hover:text-gray-200 transition duration-150 ease-in-out" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><rect y="4" width="24" height="2" rx="1"/><rect y="11" width="24" height="2" rx="1"/><rect y="18" width="24" height="2" rx="1"/></svg></button><nav id=mobile-nav class="absolute top-full z-20 left-0 w-full px-4 sm:px-6 overflow-hidden transition-all duration-300 ease-in-out" x-ref=mobileNav :style="expanded ? 'max-height: ' + $refs.mobileNav.scrollHeight + 'px; opacity: 1' : 'max-height: 0; opacity: .8'" @click.away="expanded = false" @keydown.escape.window="expanded = false" x-cloak><ul class="bg-gray-800 px-4 py-2"><li><a href=/#books class="flex text-gray-300 hover:text-gray-200 py-2">Books</a></li><li><a href=/reviews class="flex text-gray-300 hover:text-gray-200 py-2">Reviews</a></li><li><a href=/tutorials class="flex text-gray-300 hover:text-gray-200 py-2">Tutorials</a></li><li><a href=/blogs class="flex text-gray-300 hover:text-gray-200 py-2">Blog</a></li><li><a href=/#courses class="flex text-gray-300 hover:text-gray-200 py-2">Courses</a></li><li><a href=/static/resume/HintonCV.pdf class="flex text-gray-300 hover:text-gray-200 py-2">CV</a></li></ul></nav></div></div></div></header><div class=flex-grow><div id=post-container class="content content-wider blog-post relative"><div class="section-header blog"><h1 class=title>Low Poly Art</h1><p>6th March 2021</p><p>Low poly art animations using scipy is actually pretty simple</p></div><div><ul class="grid gap-6 w-full md:grid-cols-2" style=list-style:none;padding-left:0><li><input type=radio id=show-code name=code-toggle value=show-code class="hidden peer" onchange=clickCheckbox(this) required checked>
<label for=show-code class="inline-flex justify-between items-center p-5 w-full text-gray-500 bg-gray-800 rounded-lg border border-gray-200 cursor-pointer peer-checked:border-2 peer-checked:border-main-300 peer-checked:text-white peer-checked:bg-gray-700 hover:text-gray-200 hover:bg-gray-700"><div class="block w-full"><div class="w-full text-center text-lg font-semibold">Show me everything!</div><div class="w-full text-center text-sm">Oh yeah, coding time.</div></div></label></li><li><input type=radio id=hide-code name=code-toggle value=hide-code class="hidden peer" onchange=clickCheckbox(this)>
<label for=hide-code class="inline-flex justify-between items-center p-5 w-full text-gray-500 bg-gray-800 rounded-lg border border-gray-200 cursor-pointer peer-checked:border-2 peer-checked:border-main-300 peer-checked:text-white peer-checked:bg-gray-700 hover:text-gray-200 hover:bg-gray-700"><div class="block w-full"><div class="w-full text-center text-lg font-semibold">Just the plots</div><div class="w-full text-center text-sm">Code is nasty.</div></div></label></li></ul></div><script>function clickCheckbox(e){e.id=="show-code"?document.getElementById("post-container").classList.remove("hide-code"):document.getElementById("post-container").classList.add("hide-code")}</script><p>So this is the goal for this tutorial - to turn a beautiful wallpaper (or three) into beautiful low poly art.</p><p><div><figure class=rounded><picture><source srcset=/tutorials/lowpoly/2021-03-22-LowPoly_files/2021-03-22-LowPoly_2_0_hu7669be55e054df944b3f2d649edb102a_3192226_3490x1213_resize_q90_h2_box_3.webp width=3490 height=1213 type=image/webp><source srcset=/tutorials/lowpoly/2021-03-22-LowPoly_files/2021-03-22-LowPoly_2_0_hu7669be55e054df944b3f2d649edb102a_3192226_3490x1213_resize_q90_box_3.png width=3490 height=1213 type=image/png><img width=3490 height=1213 loading=lazy decoding=async alt=png src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mPMn7vLFAAFRgH97g1QygAAAABJRU5ErkJggg=="></picture></figure></div></p><p><div><figure class="img-main remove rounded"><picture><source srcset=/tutorials/lowpoly/cover_huad91c595851a2a503f81034a80681d15_792556_3840x2400_resize_q90_h2_box_3.webp width=3840 height=2400 type=image/webp><source srcset=/tutorials/lowpoly/cover_huad91c595851a2a503f81034a80681d15_792556_3840x2400_resize_q90_box_3.png width=3840 height=2400 type=image/png><img width=3840 height=2400 loading=lazy decoding=async alt=png src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mPMn7vLFAAFRgH97g1QygAAAABJRU5ErkJggg=="></picture></figure></div></p><p>The approach we are going to take to get to this is fairly simple.</p><ol><li>Load our image in</li><li>Manipulate the image to highlight edges and areas of detail</li><li>Draw potential vertices from those areas</li><li>Calculate triangles from vertices</li><li>Determine the colour of the triangles</li><li>Plot the image</li></ol><p>Lets get our imports out of the way and then power through each section:</p><div class="reduced-code width-41" markdown=1><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ff6ac1>import</span> os
</span></span><span style=display:flex><span><span style=color:#ff6ac1>import</span> numpy <span style=color:#ff6ac1>as</span> np
</span></span><span style=display:flex><span><span style=color:#ff6ac1>import</span> pygame
</span></span><span style=display:flex><span><span style=color:#ff6ac1>import</span> pygame.gfxdraw
</span></span><span style=display:flex><span><span style=color:#ff6ac1>import</span> matplotlib.pyplot <span style=color:#ff6ac1>as</span> plt
</span></span><span style=display:flex><span><span style=color:#ff6ac1>from</span> scipy.spatial <span style=color:#ff6ac1>import</span> Delaunay
</span></span><span style=display:flex><span><span style=color:#ff6ac1>from</span> scipy.ndimage <span style=color:#ff6ac1>import</span> gaussian_filter
</span></span><span style=display:flex><span><span style=color:#ff6ac1>from</span> collections <span style=color:#ff6ac1>import</span> defaultdict
</span></span></code></pre></div></div><h2 id=1-load-in-our-image>1. Load in Our Image</h2><p>First step is to get the image into memory. We&rsquo;ll use pygame to load this into an array (<code>matplotlib</code> could also do this). And then I want to turn the image to grayscale so we can work with 2D and not 3D data. However, human eyes are not equally sensitive to all colours, so we don&rsquo;t want a standard mean of the red, green, and blue components. Looking at the <a href=https://en.wikipedia.org/wiki/Luma_(video)>Wikipedia page for Luma</a>, there are a few options, but I&rsquo;m going to pick the first one on the page which states that:</p><p>$$ Y = 0.2126R + 0.7152G + 0.0722B $$</p><p>Who know that blue counted for so little? In the first run through I&rsquo;m going to use an image of a portal which has a very distinct area of detail and a larger area of lower detail to highlight what we&rsquo;re doing. Then at the very end I&rsquo;ll run the code for other images too and see what we get!</p><div class=width-69 markdown=1><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>inp <span style=color:#ff6ac1>=</span> pygame<span style=color:#ff6ac1>.</span>surfarray<span style=color:#ff6ac1>.</span>pixels3d(pygame<span style=color:#ff6ac1>.</span>image<span style=color:#ff6ac1>.</span>load(<span style=color:#5af78e>&#34;lowpoly/bg1.png&#34;</span>))
</span></span><span style=display:flex><span>perceptual_weight <span style=color:#ff6ac1>=</span> np<span style=color:#ff6ac1>.</span>array([<span style=color:#ff9f43>0.2126</span>, <span style=color:#ff9f43>0.7152</span>, <span style=color:#ff9f43>0.0722</span>])
</span></span><span style=display:flex><span>grayscale <span style=color:#ff6ac1>=</span> (inp <span style=color:#ff6ac1>*</span> perceptual_weight)<span style=color:#ff6ac1>.</span>sum(axis<span style=color:#ff6ac1>=-</span><span style=color:#ff9f43>1</span>)
</span></span><span style=display:flex><span>plt<span style=color:#ff6ac1>.</span>imshow(grayscale<span style=color:#ff6ac1>.</span>T);
</span></span></code></pre></div></div><p><div><figure class=rounded><picture><source srcset=/tutorials/lowpoly/2021-03-22-LowPoly_files/2021-03-22-LowPoly_7_0_hu552e4f618dac1bfefd74970d939e74c9_2557408_2270x1312_resize_q90_h2_box_3.webp width=2270 height=1312 type=image/webp><source srcset=/tutorials/lowpoly/2021-03-22-LowPoly_files/2021-03-22-LowPoly_7_0_hu552e4f618dac1bfefd74970d939e74c9_2557408_2270x1312_resize_q90_box_3.png width=2270 height=1312 type=image/png><img width=2270 height=1312 loading=lazy decoding=async alt=png src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mPMn7vLFAAFRgH97g1QygAAAABJRU5ErkJggg=="></picture></figure></div></p><h2 id=2-highlight-details>2. Highlight details</h2><p>Great, our image is now nice and flat. We <em>could</em> use this if we wanted to sample points according to how luminous the image is. Let&rsquo;s not do that. First, I don&rsquo;t care about tiny features, I want the low poly art to follow the broad structure, so I want to blur the image a tiny bit.</p><p>On top of that, an easy way to find area of interest (ie areas that change) is to blur the image even more and take the difference. This is actually effectively how a sharpen filter works (by adding the diffence onto the original image). The <code>sqrt</code> here is to make sure we get <em>something</em> in the black outside</p><div class="reduced-code width-52" markdown=1><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>x <span style=color:#ff6ac1>=</span> gaussian_filter(grayscale, <span style=color:#ff9f43>2</span>, mode<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;reflect&#34;</span>)
</span></span><span style=display:flex><span>x2 <span style=color:#ff6ac1>=</span> gaussian_filter(grayscale, <span style=color:#ff9f43>30</span>, mode<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;reflect&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#78787e># Take the difference, deweight negatives, normalise</span>
</span></span><span style=display:flex><span>diff <span style=color:#ff6ac1>=</span> (x <span style=color:#ff6ac1>-</span> x2)
</span></span><span style=display:flex><span>diff[diff <span style=color:#ff6ac1>&lt;</span> <span style=color:#ff9f43>0</span>] <span style=color:#ff6ac1>*=</span> <span style=color:#ff9f43>0.1</span>
</span></span><span style=display:flex><span>diff <span style=color:#ff6ac1>=</span> np<span style=color:#ff6ac1>.</span>sqrt(np<span style=color:#ff6ac1>.</span>abs(diff) <span style=color:#ff6ac1>/</span> diff<span style=color:#ff6ac1>.</span>max())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>plt<span style=color:#ff6ac1>.</span>imshow(diff<span style=color:#ff6ac1>.</span>T)
</span></span></code></pre></div></div><p><div><figure class=rounded><picture><source srcset=/tutorials/lowpoly/2021-03-22-LowPoly_files/2021-03-22-LowPoly_9_0_hu6bc94e485354f77e928899dcb55f3cf0_2019073_2270x1312_resize_q90_h2_box_3.webp width=2270 height=1312 type=image/webp><source srcset=/tutorials/lowpoly/2021-03-22-LowPoly_files/2021-03-22-LowPoly_9_0_hu6bc94e485354f77e928899dcb55f3cf0_2019073_2270x1312_resize_q90_box_3.png width=2270 height=1312 type=image/png><img width=2270 height=1312 loading=lazy decoding=async alt=png src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mPMn7vLFAAFRgH97g1QygAAAABJRU5ErkJggg=="></picture></figure></div></p><h2 id=3-vertices-from-image>3. Vertices from image</h2><p>So now lets get samples of points from the image above. To do this, we&rsquo;ll use <a href=rejection_sampling>rejection sampling</a>, which means we pick a random $x, y$ coordinate and accept or reject it based upon whether a random uniform number is below the luminosity at that point. So the higher the luminosity, the greater the chance to accept it. We&rsquo;ll also generate a buttload of points to start with and just take what we need from that list.</p><p>So here is a nice function which takes a reference image and returns sample points and their value:</p><div class="reduced-code width-47" markdown=1><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ff6ac1>def</span> <span style=color:#57c7ff>sample</span>(ref, n<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>1000000</span>):
</span></span><span style=display:flex><span>    np<span style=color:#ff6ac1>.</span>random<span style=color:#ff6ac1>.</span>seed(<span style=color:#ff9f43>0</span>)
</span></span><span style=display:flex><span>    w, h <span style=color:#ff6ac1>=</span> x<span style=color:#ff6ac1>.</span>shape
</span></span><span style=display:flex><span>    xs <span style=color:#ff6ac1>=</span> np<span style=color:#ff6ac1>.</span>random<span style=color:#ff6ac1>.</span>randint(<span style=color:#ff9f43>0</span>, w, size<span style=color:#ff6ac1>=</span>n)
</span></span><span style=display:flex><span>    ys <span style=color:#ff6ac1>=</span> np<span style=color:#ff6ac1>.</span>random<span style=color:#ff6ac1>.</span>randint(<span style=color:#ff9f43>0</span>, h, size<span style=color:#ff6ac1>=</span>n)
</span></span><span style=display:flex><span>    value <span style=color:#ff6ac1>=</span> ref[xs, ys]
</span></span><span style=display:flex><span>    accept <span style=color:#ff6ac1>=</span> np<span style=color:#ff6ac1>.</span>random<span style=color:#ff6ac1>.</span>random(size<span style=color:#ff6ac1>=</span>n) <span style=color:#ff6ac1>&lt;</span> value
</span></span><span style=display:flex><span>    points <span style=color:#ff6ac1>=</span> np<span style=color:#ff6ac1>.</span>array([xs[accept], ys[accept]])
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>return</span> points<span style=color:#ff6ac1>.</span>T, value[accept]
</span></span></code></pre></div></div><p>Let&rsquo;s plot these points to see if they look nicely distributed:</p><div class="expanded-code width-89" markdown=1><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>samples, v <span style=color:#ff6ac1>=</span> sample(diff)
</span></span><span style=display:flex><span>plt<span style=color:#ff6ac1>.</span>scatter(samples[:, <span style=color:#ff9f43>0</span>], <span style=color:#ff6ac1>-</span>samples[:, <span style=color:#ff9f43>1</span>], c<span style=color:#ff6ac1>=</span>v, s<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>0.2</span>, edgecolors<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;none&#34;</span>, cmap<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;viridis&#34;</span>)
</span></span></code></pre></div></div><p><div><figure class=rounded><picture><source srcset=/tutorials/lowpoly/2021-03-22-LowPoly_files/2021-03-22-LowPoly_13_0_hu7a14b0ab9a744f1593a1471b3081d2e4_1905843_2579x1331_resize_q90_h2_box_3.webp width=2579 height=1331 type=image/webp><source srcset=/tutorials/lowpoly/2021-03-22-LowPoly_files/2021-03-22-LowPoly_13_0_hu7a14b0ab9a744f1593a1471b3081d2e4_1905843_2579x1331_resize_q90_box_3.png width=2579 height=1331 type=image/png><img width=2579 height=1331 loading=lazy decoding=async alt=png src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mPMn7vLFAAFRgH97g1QygAAAABJRU5ErkJggg=="></picture></figure></div></p><p>Looks good to me! The gate should have a good level of detail, and the background sky should have far less.</p><h2 id=4-triangles-from-vertices>4. Triangles from vertices</h2><p>This is actually super simple, because <code>scipy</code> has done it all for us. We&rsquo;ll simply use <code>Delaunay</code> triangulation, which you can read more about <a href=https://en.wikipedia.org/wiki/Delaunay_triangulation>here</a>. The TL;DR is that Delaunay triangular is a way of drawing triangles between verticies, such that no external points lie within each triangles circumcircle. This great example comes from Wikipedia:</p><p><div><figure class="img-invert-dull rounded"><picture><source srcset=/tutorials/lowpoly/2021-03-22-LowPoly_files/2021-03-22-LowPoly_15_0_hufe2a89930a9476408790f3c589b378d5_74462_1000x500_resize_q90_h2_box_3.webp width=1000 height=500 type=image/webp><source srcset=/tutorials/lowpoly/2021-03-22-LowPoly_files/2021-03-22-LowPoly_15_0_hufe2a89930a9476408790f3c589b378d5_74462_1000x500_resize_q90_box_3.png width=1000 height=500 type=image/png><img width=1000 height=500 loading=lazy decoding=async alt=png src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mPMn7vLFAAFRgH97g1QygAAAABJRU5ErkJggg=="></picture></figure></div></p><p>Here the left does <strong>not</strong> represent a Delaunay triangulation of the polygon, because a circumcirle drawn from the left hand triangle (the big red circle) encapsulates a vertex that is not part of the triangle. The right hand triangulation is satisfies this, as the circumcircle from each of the two triangles only includes the vertices from that triangle.</p><h2 id=5-colour-from-triangles>5. Colour from triangles</h2><p>The algorithm is simple. We assign each pixel to a triangle, and then take all the pixels in a triangle and average the colour. Simple&mldr; but incredibly slow.</p><div class="reduced-code width-60" markdown=1><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ff6ac1>def</span> <span style=color:#57c7ff>get_colour_of_tri</span>(tri, image):
</span></span><span style=display:flex><span>    colours <span style=color:#ff6ac1>=</span> defaultdict(<span style=color:#ff6ac1>lambda</span>: [])
</span></span><span style=display:flex><span>    w, h, _ <span style=color:#ff6ac1>=</span> image<span style=color:#ff6ac1>.</span>shape
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>for</span> i <span style=color:#ff6ac1>in</span> <span style=color:#ff5c57>range</span>(<span style=color:#ff9f43>0</span>, w):
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>for</span> j <span style=color:#ff6ac1>in</span> <span style=color:#ff5c57>range</span>(<span style=color:#ff9f43>0</span>, h):
</span></span><span style=display:flex><span>            <span style=color:#78787e># Gets the index of the triangle the point is in</span>
</span></span><span style=display:flex><span>            index <span style=color:#ff6ac1>=</span> tri<span style=color:#ff6ac1>.</span>find_simplex((i, j))
</span></span><span style=display:flex><span>            colours[<span style=color:#ff5c57>int</span>(index)]<span style=color:#ff6ac1>.</span>append(inp[i, j, :])
</span></span><span style=display:flex><span>    <span style=color:#78787e># For each triangle, find the average colour</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>for</span> index, array <span style=color:#ff6ac1>in</span> colours<span style=color:#ff6ac1>.</span>items():
</span></span><span style=display:flex><span>        colours[index] <span style=color:#ff6ac1>=</span> np<span style=color:#ff6ac1>.</span>array(array)<span style=color:#ff6ac1>.</span>mean(axis<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>0</span>)
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>return</span> colours
</span></span></code></pre></div></div><h2 id=6-plot-the-image>6. Plot the image</h2><p>This function is pretty simple too. We take a screen, and then for each triangle, we use <code>pygame.gfxdraw</code> for anti-aliased drawing. I&rsquo;m plotting the outline and the fill both to try and make sure there are no black gaps between images (but I&rsquo;m unsure if this actually makes a difference).</p><div class="reduced-code width-56" markdown=1><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ff6ac1>def</span> <span style=color:#57c7ff>draw</span>(tri, colours, screen, upscale):
</span></span><span style=display:flex><span>    s <span style=color:#ff6ac1>=</span> screen<span style=color:#ff6ac1>.</span>copy()
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>for</span> key, c <span style=color:#ff6ac1>in</span> colours<span style=color:#ff6ac1>.</span>items():
</span></span><span style=display:flex><span>        t <span style=color:#ff6ac1>=</span> tri<span style=color:#ff6ac1>.</span>points[tri<span style=color:#ff6ac1>.</span>simplices[key]]
</span></span><span style=display:flex><span>        pygame<span style=color:#ff6ac1>.</span>gfxdraw<span style=color:#ff6ac1>.</span>filled_polygon(s, t <span style=color:#ff6ac1>*</span> upscale, c)
</span></span><span style=display:flex><span>        pygame<span style=color:#ff6ac1>.</span>gfxdraw<span style=color:#ff6ac1>.</span>polygon(s, t <span style=color:#ff6ac1>*</span> upscale, c)
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>return</span> s
</span></span></code></pre></div></div><h2 id=the-animation-drawing-loop>The animation drawing loop</h2><p>So heres the main flow of the script. We create a base screen and some start vertices as the four corners of the image. Then we jump into a for loop, get vertices and then triangles, determine the colours and plot the image. Notice I have an upscale factor of 2 here so I can shrink it down at the end for better anti-aliasing then the <code>gfxdraw</code> methods.</p><div class=width-68 markdown=1><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>w, h, _ <span style=color:#ff6ac1>=</span> inp<span style=color:#ff6ac1>.</span>shape
</span></span><span style=display:flex><span>upscale <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>2</span>
</span></span><span style=display:flex><span>screen <span style=color:#ff6ac1>=</span> pygame<span style=color:#ff6ac1>.</span>Surface((w <span style=color:#ff6ac1>*</span> upscale, h <span style=color:#ff6ac1>*</span> upscale))
</span></span><span style=display:flex><span>screen<span style=color:#ff6ac1>.</span>fill(inp<span style=color:#ff6ac1>.</span>mean(axis<span style=color:#ff6ac1>=</span>(<span style=color:#ff9f43>0</span>, <span style=color:#ff9f43>1</span>)))
</span></span><span style=display:flex><span>corners <span style=color:#ff6ac1>=</span> np<span style=color:#ff6ac1>.</span>array([(<span style=color:#ff9f43>0</span>, <span style=color:#ff9f43>0</span>), (<span style=color:#ff9f43>0</span>, h <span style=color:#ff6ac1>-</span> <span style=color:#ff9f43>1</span>), (w <span style=color:#ff6ac1>-</span> <span style=color:#ff9f43>1</span>, <span style=color:#ff9f43>0</span>), (w <span style=color:#ff6ac1>-</span> <span style=color:#ff9f43>1</span>, h <span style=color:#ff6ac1>-</span> <span style=color:#ff9f43>1</span>)])
</span></span><span style=display:flex><span>points <span style=color:#ff6ac1>=</span> np<span style=color:#ff6ac1>.</span>concatenate((corners, samples))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>outdir <span style=color:#ff6ac1>=</span> <span style=color:#5af78e>&#34;lowpoly/output/&#34;</span>
</span></span><span style=display:flex><span>os<span style=color:#ff6ac1>.</span>makedirs(outdir, exist_ok<span style=color:#ff6ac1>=</span><span style=color:#ff6ac1>True</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>for</span> i <span style=color:#ff6ac1>in</span> <span style=color:#ff5c57>range</span>(<span style=color:#ff9f43>0</span>, <span style=color:#ff9f43>100</span>):
</span></span><span style=display:flex><span>    n <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>5</span> <span style=color:#ff6ac1>+</span> i <span style=color:#ff6ac1>+</span> <span style=color:#ff9f43>2</span> <span style=color:#ff6ac1>*</span> <span style=color:#ff5c57>int</span>(i<span style=color:#ff6ac1>**</span><span style=color:#ff9f43>2</span>)
</span></span><span style=display:flex><span>    tri <span style=color:#ff6ac1>=</span> Delaunay(points[:n, :])
</span></span><span style=display:flex><span>    colours <span style=color:#ff6ac1>=</span> get_colour_of_tri(tri, inp)
</span></span><span style=display:flex><span>    s <span style=color:#ff6ac1>=</span> draw(tri, colours, screen, upscale)
</span></span><span style=display:flex><span>    s <span style=color:#ff6ac1>=</span> pygame<span style=color:#ff6ac1>.</span>transform<span style=color:#ff6ac1>.</span>smoothscale(s, (w, h))
</span></span><span style=display:flex><span>    pygame<span style=color:#ff6ac1>.</span>image<span style=color:#ff6ac1>.</span>save(s, <span style=color:#5af78e>f</span><span style=color:#5af78e>&#34;lowpoly/output/</span><span style=color:#5af78e>{</span>i<span style=color:#5af78e>:</span><span style=color:#5af78e>04d</span><span style=color:#5af78e>}</span><span style=color:#5af78e>.png&#34;</span>)
</span></span></code></pre></div></div><p>Running this will output a ton of images in the output folder, and we can pick one with the right level of detail as a final image, and we can use <code>ffmpeg</code> to turn those images into an animation.</p><p><div class=video><video preload=auto playsinline plays-inline controls autoplay loop muted>
<source src=/tutorials/lowpoly/final1.mp4 type=video/mp4></video></div></p><p>I ended up liking a frame somewhere in the middle as the &ldquo;best&rdquo;, and here is a direct comparison, not just for the example image, but for others as well:</p><p><div><figure class=rounded><picture><source srcset=/tutorials/lowpoly/2021-03-22-LowPoly_files/2021-03-22-LowPoly_25_0_hu0c9f8465688485b7299534afb771c80e_2610361_3490x1015_resize_q90_h2_box_3.webp width=3490 height=1015 type=image/webp><source srcset=/tutorials/lowpoly/2021-03-22-LowPoly_files/2021-03-22-LowPoly_25_0_hu0c9f8465688485b7299534afb771c80e_2610361_3490x1015_resize_q90_box_3.png width=3490 height=1015 type=image/png><img width=3490 height=1015 loading=lazy decoding=async alt=png src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mPMn7vLFAAFRgH97g1QygAAAABJRU5ErkJggg=="></picture></figure></div></p><p><div><figure class=rounded><picture><source srcset=/tutorials/lowpoly/2021-03-22-LowPoly_files/2021-03-22-LowPoly_26_0_hu7ae54f5db2d4275c49daf4fa4f456a5c_3180454_3490x1119_resize_q90_h2_box_3.webp width=3490 height=1119 type=image/webp><source srcset=/tutorials/lowpoly/2021-03-22-LowPoly_files/2021-03-22-LowPoly_26_0_hu7ae54f5db2d4275c49daf4fa4f456a5c_3180454_3490x1119_resize_q90_box_3.png width=3490 height=1119 type=image/png><img width=3490 height=1119 loading=lazy decoding=async alt=png src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mPMn7vLFAAFRgH97g1QygAAAABJRU5ErkJggg=="></picture></figure></div></p><p><div><figure class=rounded><picture><source srcset=/tutorials/lowpoly/2021-03-22-LowPoly_files/2021-03-22-LowPoly_27_0_hu458bb82b7b5f13f0ec6d7828a90bb3ef_2791071_3490x1188_resize_q90_h2_box_3.webp width=3490 height=1188 type=image/webp><source srcset=/tutorials/lowpoly/2021-03-22-LowPoly_files/2021-03-22-LowPoly_27_0_hu458bb82b7b5f13f0ec6d7828a90bb3ef_2791071_3490x1188_resize_q90_box_3.png width=3490 height=1188 type=image/png><img width=3490 height=1188 loading=lazy decoding=async alt=png src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mPMn7vLFAAFRgH97g1QygAAAABJRU5ErkJggg=="></picture></figure></div></p><p><div class=video><video preload=auto playsinline plays-inline controls autoplay loop muted>
<source src=/tutorials/lowpoly/final3.mp4 type=video/mp4></video></div></p><p>All in all, for a simplistic approach, I&rsquo;m very happy with how this turned out.</p><hr><p>For your convenience, here&rsquo;s the code in one block:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#ff6ac1>import</span> os
</span></span><span style=display:flex><span><span style=color:#ff6ac1>import</span> numpy <span style=color:#ff6ac1>as</span> np
</span></span><span style=display:flex><span><span style=color:#ff6ac1>import</span> pygame
</span></span><span style=display:flex><span><span style=color:#ff6ac1>import</span> pygame.gfxdraw
</span></span><span style=display:flex><span><span style=color:#ff6ac1>import</span> matplotlib.pyplot <span style=color:#ff6ac1>as</span> plt
</span></span><span style=display:flex><span><span style=color:#ff6ac1>from</span> scipy.spatial <span style=color:#ff6ac1>import</span> Delaunay
</span></span><span style=display:flex><span><span style=color:#ff6ac1>from</span> scipy.ndimage <span style=color:#ff6ac1>import</span> gaussian_filter
</span></span><span style=display:flex><span><span style=color:#ff6ac1>from</span> collections <span style=color:#ff6ac1>import</span> defaultdict
</span></span><span style=display:flex><span>inp <span style=color:#ff6ac1>=</span> pygame<span style=color:#ff6ac1>.</span>surfarray<span style=color:#ff6ac1>.</span>pixels3d(pygame<span style=color:#ff6ac1>.</span>image<span style=color:#ff6ac1>.</span>load(<span style=color:#5af78e>&#34;lowpoly/bg1.png&#34;</span>))
</span></span><span style=display:flex><span>perceptual_weight <span style=color:#ff6ac1>=</span> np<span style=color:#ff6ac1>.</span>array([<span style=color:#ff9f43>0.2126</span>, <span style=color:#ff9f43>0.7152</span>, <span style=color:#ff9f43>0.0722</span>])
</span></span><span style=display:flex><span>grayscale <span style=color:#ff6ac1>=</span> (inp <span style=color:#ff6ac1>*</span> perceptual_weight)<span style=color:#ff6ac1>.</span>sum(axis<span style=color:#ff6ac1>=-</span><span style=color:#ff9f43>1</span>)
</span></span><span style=display:flex><span>plt<span style=color:#ff6ac1>.</span>imshow(grayscale<span style=color:#ff6ac1>.</span>T);
</span></span><span style=display:flex><span>x <span style=color:#ff6ac1>=</span> gaussian_filter(grayscale, <span style=color:#ff9f43>2</span>, mode<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;reflect&#34;</span>)
</span></span><span style=display:flex><span>x2 <span style=color:#ff6ac1>=</span> gaussian_filter(grayscale, <span style=color:#ff9f43>30</span>, mode<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;reflect&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#78787e># Take the difference, deweight negatives, normalise</span>
</span></span><span style=display:flex><span>diff <span style=color:#ff6ac1>=</span> (x <span style=color:#ff6ac1>-</span> x2)
</span></span><span style=display:flex><span>diff[diff <span style=color:#ff6ac1>&lt;</span> <span style=color:#ff9f43>0</span>] <span style=color:#ff6ac1>*=</span> <span style=color:#ff9f43>0.1</span>
</span></span><span style=display:flex><span>diff <span style=color:#ff6ac1>=</span> np<span style=color:#ff6ac1>.</span>sqrt(np<span style=color:#ff6ac1>.</span>abs(diff) <span style=color:#ff6ac1>/</span> diff<span style=color:#ff6ac1>.</span>max())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>plt<span style=color:#ff6ac1>.</span>imshow(diff<span style=color:#ff6ac1>.</span>T)
</span></span><span style=display:flex><span><span style=color:#ff6ac1>def</span> <span style=color:#57c7ff>sample</span>(ref, n<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>1000000</span>):
</span></span><span style=display:flex><span>    np<span style=color:#ff6ac1>.</span>random<span style=color:#ff6ac1>.</span>seed(<span style=color:#ff9f43>0</span>)
</span></span><span style=display:flex><span>    w, h <span style=color:#ff6ac1>=</span> x<span style=color:#ff6ac1>.</span>shape
</span></span><span style=display:flex><span>    xs <span style=color:#ff6ac1>=</span> np<span style=color:#ff6ac1>.</span>random<span style=color:#ff6ac1>.</span>randint(<span style=color:#ff9f43>0</span>, w, size<span style=color:#ff6ac1>=</span>n)
</span></span><span style=display:flex><span>    ys <span style=color:#ff6ac1>=</span> np<span style=color:#ff6ac1>.</span>random<span style=color:#ff6ac1>.</span>randint(<span style=color:#ff9f43>0</span>, h, size<span style=color:#ff6ac1>=</span>n)
</span></span><span style=display:flex><span>    value <span style=color:#ff6ac1>=</span> ref[xs, ys]
</span></span><span style=display:flex><span>    accept <span style=color:#ff6ac1>=</span> np<span style=color:#ff6ac1>.</span>random<span style=color:#ff6ac1>.</span>random(size<span style=color:#ff6ac1>=</span>n) <span style=color:#ff6ac1>&lt;</span> value
</span></span><span style=display:flex><span>    points <span style=color:#ff6ac1>=</span> np<span style=color:#ff6ac1>.</span>array([xs[accept], ys[accept]])
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>return</span> points<span style=color:#ff6ac1>.</span>T, value[accept]
</span></span><span style=display:flex><span>samples, v <span style=color:#ff6ac1>=</span> sample(diff)
</span></span><span style=display:flex><span>plt<span style=color:#ff6ac1>.</span>scatter(samples[:, <span style=color:#ff9f43>0</span>], <span style=color:#ff6ac1>-</span>samples[:, <span style=color:#ff9f43>1</span>], c<span style=color:#ff6ac1>=</span>v, s<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>0.2</span>, edgecolors<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;none&#34;</span>, cmap<span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;viridis&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#ff6ac1>def</span> <span style=color:#57c7ff>get_colour_of_tri</span>(tri, image):
</span></span><span style=display:flex><span>    colours <span style=color:#ff6ac1>=</span> defaultdict(<span style=color:#ff6ac1>lambda</span>: [])
</span></span><span style=display:flex><span>    w, h, _ <span style=color:#ff6ac1>=</span> image<span style=color:#ff6ac1>.</span>shape
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>for</span> i <span style=color:#ff6ac1>in</span> <span style=color:#ff5c57>range</span>(<span style=color:#ff9f43>0</span>, w):
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>for</span> j <span style=color:#ff6ac1>in</span> <span style=color:#ff5c57>range</span>(<span style=color:#ff9f43>0</span>, h):
</span></span><span style=display:flex><span>            <span style=color:#78787e># Gets the index of the triangle the point is in</span>
</span></span><span style=display:flex><span>            index <span style=color:#ff6ac1>=</span> tri<span style=color:#ff6ac1>.</span>find_simplex((i, j))
</span></span><span style=display:flex><span>            colours[<span style=color:#ff5c57>int</span>(index)]<span style=color:#ff6ac1>.</span>append(inp[i, j, :])
</span></span><span style=display:flex><span>    <span style=color:#78787e># For each triangle, find the average colour</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>for</span> index, array <span style=color:#ff6ac1>in</span> colours<span style=color:#ff6ac1>.</span>items():
</span></span><span style=display:flex><span>        colours[index] <span style=color:#ff6ac1>=</span> np<span style=color:#ff6ac1>.</span>array(array)<span style=color:#ff6ac1>.</span>mean(axis<span style=color:#ff6ac1>=</span><span style=color:#ff9f43>0</span>)
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>return</span> colours
</span></span><span style=display:flex><span><span style=color:#ff6ac1>def</span> <span style=color:#57c7ff>draw</span>(tri, colours, screen, upscale):
</span></span><span style=display:flex><span>    s <span style=color:#ff6ac1>=</span> screen<span style=color:#ff6ac1>.</span>copy()
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>for</span> key, c <span style=color:#ff6ac1>in</span> colours<span style=color:#ff6ac1>.</span>items():
</span></span><span style=display:flex><span>        t <span style=color:#ff6ac1>=</span> tri<span style=color:#ff6ac1>.</span>points[tri<span style=color:#ff6ac1>.</span>simplices[key]]
</span></span><span style=display:flex><span>        pygame<span style=color:#ff6ac1>.</span>gfxdraw<span style=color:#ff6ac1>.</span>filled_polygon(s, t <span style=color:#ff6ac1>*</span> upscale, c)
</span></span><span style=display:flex><span>        pygame<span style=color:#ff6ac1>.</span>gfxdraw<span style=color:#ff6ac1>.</span>polygon(s, t <span style=color:#ff6ac1>*</span> upscale, c)
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>return</span> s
</span></span><span style=display:flex><span>w, h, _ <span style=color:#ff6ac1>=</span> inp<span style=color:#ff6ac1>.</span>shape
</span></span><span style=display:flex><span>upscale <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>2</span>
</span></span><span style=display:flex><span>screen <span style=color:#ff6ac1>=</span> pygame<span style=color:#ff6ac1>.</span>Surface((w <span style=color:#ff6ac1>*</span> upscale, h <span style=color:#ff6ac1>*</span> upscale))
</span></span><span style=display:flex><span>screen<span style=color:#ff6ac1>.</span>fill(inp<span style=color:#ff6ac1>.</span>mean(axis<span style=color:#ff6ac1>=</span>(<span style=color:#ff9f43>0</span>, <span style=color:#ff9f43>1</span>)))
</span></span><span style=display:flex><span>corners <span style=color:#ff6ac1>=</span> np<span style=color:#ff6ac1>.</span>array([(<span style=color:#ff9f43>0</span>, <span style=color:#ff9f43>0</span>), (<span style=color:#ff9f43>0</span>, h <span style=color:#ff6ac1>-</span> <span style=color:#ff9f43>1</span>), (w <span style=color:#ff6ac1>-</span> <span style=color:#ff9f43>1</span>, <span style=color:#ff9f43>0</span>), (w <span style=color:#ff6ac1>-</span> <span style=color:#ff9f43>1</span>, h <span style=color:#ff6ac1>-</span> <span style=color:#ff9f43>1</span>)])
</span></span><span style=display:flex><span>points <span style=color:#ff6ac1>=</span> np<span style=color:#ff6ac1>.</span>concatenate((corners, samples))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>outdir <span style=color:#ff6ac1>=</span> <span style=color:#5af78e>&#34;lowpoly/output/&#34;</span>
</span></span><span style=display:flex><span>os<span style=color:#ff6ac1>.</span>makedirs(outdir, exist_ok<span style=color:#ff6ac1>=</span><span style=color:#ff6ac1>True</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>for</span> i <span style=color:#ff6ac1>in</span> <span style=color:#ff5c57>range</span>(<span style=color:#ff9f43>0</span>, <span style=color:#ff9f43>100</span>):
</span></span><span style=display:flex><span>    n <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>5</span> <span style=color:#ff6ac1>+</span> i <span style=color:#ff6ac1>+</span> <span style=color:#ff9f43>2</span> <span style=color:#ff6ac1>*</span> <span style=color:#ff5c57>int</span>(i<span style=color:#ff6ac1>**</span><span style=color:#ff9f43>2</span>)
</span></span><span style=display:flex><span>    tri <span style=color:#ff6ac1>=</span> Delaunay(points[:n, :])
</span></span><span style=display:flex><span>    colours <span style=color:#ff6ac1>=</span> get_colour_of_tri(tri, inp)
</span></span><span style=display:flex><span>    s <span style=color:#ff6ac1>=</span> draw(tri, colours, screen, upscale)
</span></span><span style=display:flex><span>    s <span style=color:#ff6ac1>=</span> pygame<span style=color:#ff6ac1>.</span>transform<span style=color:#ff6ac1>.</span>smoothscale(s, (w, h))
</span></span><span style=display:flex><span>    pygame<span style=color:#ff6ac1>.</span>image<span style=color:#ff6ac1>.</span>save(s, <span style=color:#5af78e>f</span><span style=color:#5af78e>&#34;lowpoly/output/</span><span style=color:#5af78e>{</span>i<span style=color:#5af78e>:</span><span style=color:#5af78e>04d</span><span style=color:#5af78e>}</span><span style=color:#5af78e>.png&#34;</span>)
</span></span></code></pre></div><div class="relative max-w-xl mx-auto my-20"><div class="fancy_card horizontal"><div class=card_translator><div class="card_rotator tiny_rot card_layer"><div class="card_layer newsletter p-2"><div class="newsletter-inner h-full"><div class="relative h-full sib-form-container" id=sib-form-container><div class="mb-6 lg:mb-12 text-center"><h3 class="text-main-200 mb-2 lg:mb-8">Stay in the loop!</h3><p class="text-main-100 text-lg text-opacity-70">For new releases, exclusive giveaways, and reviews.</p></div><form action="https://Cosmiccoding.us5.list-manage.com/subscribe/post?u=aebe5de1d2e40dccb3aeca491&id=3987dd4a1f" method=post id=mc-embedded-subscribe-form name=mc-embedded-subscribe-form class="validate w-full" target=_blank novalidate><div><input type=email class="w-full appearance-none bg-main-600 mb-4 border border-main-600 bg-opacity-5 focus:border-main-300 rounded-sm px-4 py-3 text-main-100 placeholder-main-100 required" placeholder="Your best email…" aria-label="Your best email…" name=EMAIL required data-required=true id=EMAIL><div style=position:absolute;left:-5000px aria-hidden=true><input type=text name=b_aebe5de1d2e40dccb3aeca491_3987dd4a1f tabindex=-1></div><input type=submit value=Subscribe name=subscribe id=mc-embedded-subscribe class="button btn bg-main-600 hover:bg-main-400 shadow w-full"></div><p id=mce-error-response style=display:none class="text-center mt-2 opacity-50 text-main-200">There was a problem, please try again.</p><p id=mce-success-response style=display:none class="text-center mt-2 opacity-50 text-main-200">Thanks mate, won't let ya down.</p></form></div></div></div><div class="card_layer card_effect card_soft_glare" style=pointer-events:none></div></div></div></div></div></div><script type=text/x-mathjax-config>
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
</script><script type=text/javascript src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script></div><script language=javascript type=text/javascript src=https://cosmiccoding.com.au/js/main.min.11673d10a962fb5205229607e62ea1d23424d35dad33db7bfe2a09a63d5409fa.js></script>
<script async defer src="https://www.googletagmanager.com/gtag/js?id=UA-72691106-1"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-72691106-1")</script></div></body></html>